function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function p(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}var q="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,ba="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};
function ca(a,b){if(b){var c=q;a=a.split(".");for(var d=0;d<a.length-1;d++){var f=a[d];f in c||(c[f]={});c=c[f]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ba(c,a,{configurable:!0,writable:!0,value:b})}}
ca("Promise",function(a){function b(e){this.l=0;this.u=void 0;this.c=[];var g=this.o();try{e(g.resolve,g.reject)}catch(k){g.reject(k)}}function c(){this.c=null}function d(e){return e instanceof b?e:new b(function(g){g(e)})}if(a)return a;c.prototype.l=function(e){if(null==this.c){this.c=[];var g=this;this.o(function(){g.u()})}this.c.push(e)};var f=q.setTimeout;c.prototype.o=function(e){f(e,0)};c.prototype.u=function(){for(;this.c&&this.c.length;){var e=this.c;this.c=[];for(var g=0;g<e.length;++g){var k=
e[g];e[g]=null;try{k()}catch(l){this.s(l)}}}this.c=null};c.prototype.s=function(e){this.o(function(){throw e;})};b.prototype.o=function(){function e(l){return function(m){k||(k=!0,l.call(g,m))}}var g=this,k=!1;return{resolve:e(this.T),reject:e(this.s)}};b.prototype.T=function(e){if(e===this)this.s(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof b)this.U(e);else{a:switch(typeof e){case "object":var g=null!=e;break a;case "function":g=!0;break a;default:g=!1}g?this.R(e):this.D(e)}};
b.prototype.R=function(e){var g=void 0;try{g=e.then}catch(k){this.s(k);return}"function"==typeof g?this.L(g,e):this.D(e)};b.prototype.s=function(e){this.F(2,e)};b.prototype.D=function(e){this.F(1,e)};b.prototype.F=function(e,g){if(0!=this.l)throw Error("Cannot settle("+e+", "+g+"): Promise already settled in state"+this.l);this.l=e;this.u=g;this.P()};b.prototype.P=function(){if(null!=this.c){for(var e=0;e<this.c.length;++e)h.l(this.c[e]);this.c=null}};var h=new c;b.prototype.U=function(e){var g=this.o();
e.w(g.resolve,g.reject)};b.prototype.L=function(e,g){var k=this.o();try{e.call(g,k.resolve,k.reject)}catch(l){k.reject(l)}};b.prototype.then=function(e,g){function k(n,v){return"function"==typeof n?function(J){try{l(n(J))}catch(K){m(K)}}:v}var l,m,t=new b(function(n,v){l=n;m=v});this.w(k(e,l),k(g,m));return t};b.prototype.catch=function(e){return this.then(void 0,e)};b.prototype.w=function(e,g){function k(){switch(l.l){case 1:e(l.u);break;case 2:g(l.u);break;default:throw Error("Unexpected state: "+
l.l);}}var l=this;null==this.c?h.l(k):this.c.push(k)};b.resolve=d;b.reject=function(e){return new b(function(g,k){k(e)})};b.race=function(e){return new b(function(g,k){for(var l=p(e),m=l.next();!m.done;m=l.next())d(m.value).w(g,k)})};b.all=function(e){var g=p(e),k=g.next();return k.done?d([]):new b(function(l,m){function t(J){return function(K){n[J]=K;v--;0==v&&l(n)}}var n=[],v=0;do n.push(void 0),v++,d(k.value).w(t(n.length-1),m),k=g.next();while(!k.done)})};return b});var r;
function u(a,b){null!=a&&("number"==typeof a?this.V(a,b,void 0):null==b&&"string"!=typeof a?w(this,a,256):w(this,a,b))}function x(){return new u(null)}function da(a,b,c,d,f,h){for(;0<=--h;){var e=b*this[a++]+c[d]+f;f=Math.floor(e/67108864);c[d++]=e&67108863}return f}function ea(a,b,c,d,f,h){var e=b&32767;for(b>>=15;0<=--h;){var g=this[a]&32767,k=this[a++]>>15,l=b*g+k*e;g=e*g+((l&32767)<<15)+c[d]+(f&1073741823);f=(g>>>30)+(l>>>15)+b*k+(f>>>30);c[d++]=g&1073741823}return f}
function fa(a,b,c,d,f,h){var e=b&16383;for(b>>=14;0<=--h;){var g=this[a]&16383,k=this[a++]>>14,l=b*g+k*e;g=e*g+((l&16383)<<14)+c[d]+f;f=(g>>28)+(l>>14)+b*k;c[d++]=g&268435455}return f}"Microsoft Internet Explorer"==navigator.appName?(u.prototype.j=ea,r=30):"Netscape"!=navigator.appName?(u.prototype.j=da,r=26):(u.prototype.j=fa,r=28);u.prototype.b=r;u.prototype.i=(1<<r)-1;u.prototype.h=1<<r;u.prototype.M=Math.pow(2,52);u.prototype.A=52-r;u.prototype.B=2*r-52;var y=[],z,A;z=48;
for(A=0;9>=A;++A)y[z++]=A;z=97;for(A=10;36>A;++A)y[z++]=A;z=65;for(A=10;36>A;++A)y[z++]=A;function B(a){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(a)}function C(a){var b=x();b.t=1;b.a=0>a?-1:0;0<a?b[0]=a:-1>a?b[0]=a+b.h:b.t=0;return b}function D(a){var b=1,c;0!=(c=a>>>16)&&(a=c,b+=16);0!=(c=a>>8)&&(a=c,b+=8);0!=(c=a>>4)&&(a=c,b+=4);0!=(c=a>>2)&&(a=c,b+=2);0!=a>>1&&(b+=1);return b}function E(a){this.f=a}
E.prototype.C=function(a){if(0>a.a||0<=F(a,this.f)){var b=this.f,c=x();G(a.abs(),b,c);0>a.a&&0<F(c,H)&&I(b,c,c);a=c}return a};E.prototype.J=function(a){return a};E.prototype.reduce=function(a){G(a,this.f,a)};E.prototype.I=function(a,b,c){L(a,b,c);this.reduce(c)};E.prototype.K=function(a,b){M(a,b);this.reduce(b)};
function N(a){this.f=a;if(1>a.t)var b=0;else if(b=a[0],0==(b&1))b=0;else{var c=b&3;c=c*(2-(b&15)*c)&15;c=c*(2-(b&255)*c)&255;c=c*(2-((b&65535)*c&65535))&65535;c=c*(2-b*c%a.h)%a.h;b=0<c?a.h-c:-c}this.G=b;this.H=this.G&32767;this.N=this.G>>15;this.S=(1<<a.b-15)-1;this.O=2*a.t}N.prototype.C=function(a){var b=x();O(a.abs(),this.f.t,b);G(b,this.f,b);0>a.a&&0<F(b,H)&&I(this.f,b,b);return b};N.prototype.J=function(a){var b=x();a.copyTo(b);this.reduce(b);return b};
N.prototype.reduce=function(a){for(;a.t<=this.O;)a[a.t++]=0;for(var b=0;b<this.f.t;++b){var c=a[b]&32767,d=c*this.H+((c*this.N+(a[b]>>15)*this.H&this.S)<<15)&a.i;c=b+this.f.t;for(a[c]+=this.f.j(0,d,a,b,0,this.f.t);a[c]>=a.h;)a[c]-=a.h,a[++c]++}P(a);for(c=b=this.f.t;c<a.t;++c)a[c-b]=a[c];a.t=Math.max(a.t-b,0);a.a=a.a;0<=F(a,this.f)&&I(a,this.f,a)};N.prototype.I=function(a,b,c){L(a,b,c);this.reduce(c)};N.prototype.K=function(a,b){M(a,b);this.reduce(b)};
u.prototype.copyTo=function(a){for(var b=this.t-1;0<=b;--b)a[b]=this[b];a.t=this.t;a.a=this.a};
function w(a,b,c){if(16==c)c=4;else if(8==c)c=3;else if(256==c)c=8;else if(2==c)c=1;else if(32==c)c=5;else if(4==c)c=2;else{a.W(b,c);return}a.t=0;a.a=0;for(var d=b.length,f=!1,h=0;0<=--d;){if(8==c)var e=b[d]&255;else e=y[b.charCodeAt(d)],e=null==e?-1:e;0>e?"-"==b.charAt(d)&&(f=!0):(f=!1,0==h?a[a.t++]=e:h+c>a.b?(a[a.t-1]|=(e&(1<<a.b-h)-1)<<h,a[a.t++]=e>>a.b-h):a[a.t-1]|=e<<h,h+=c,h>=a.b&&(h-=a.b))}8==c&&0!=(b[0]&128)&&(a.a=-1,0<h&&(a[a.t-1]|=(1<<a.b-h)-1<<h));P(a);f&&I(H,a,a)}
function P(a){for(var b=a.a&a.i;0<a.t&&a[a.t-1]==b;)--a.t}function O(a,b,c){var d;for(d=a.t-1;0<=d;--d)c[d+b]=a[d];for(d=b-1;0<=d;--d)c[d]=0;c.t=a.t+b;c.a=a.a}function Q(a,b,c){var d=b%a.b,f=a.b-d,h=(1<<f)-1;b=Math.floor(b/a.b);var e=a.a<<d&a.i,g;for(g=a.t-1;0<=g;--g)c[g+b+1]=a[g]>>f|e,e=(a[g]&h)<<d;for(g=b-1;0<=g;--g)c[g]=0;c[b]=e;c.t=a.t+b+1;c.a=a.a;P(c)}
function I(a,b,c){for(var d=0,f=0,h=Math.min(b.t,a.t);d<h;)f+=a[d]-b[d],c[d++]=f&a.i,f>>=a.b;if(b.t<a.t){for(f-=b.a;d<a.t;)f+=a[d],c[d++]=f&a.i,f>>=a.b;f+=a.a}else{for(f+=a.a;d<b.t;)f-=b[d],c[d++]=f&a.i,f>>=a.b;f-=b.a}c.a=0>f?-1:0;-1>f?c[d++]=a.h+f:0<f&&(c[d++]=f);c.t=d;P(c)}function L(a,b,c){var d=a.abs(),f=b.abs(),h=d.t;for(c.t=h+f.t;0<=--h;)c[h]=0;for(h=0;h<f.t;++h)c[h+d.t]=d.j(0,f[h],c,h,0,d.t);c.a=0;P(c);a.a!=b.a&&I(H,c,c)}
function M(a,b){a=a.abs();for(var c=b.t=2*a.t;0<=--c;)b[c]=0;for(c=0;c<a.t-1;++c){var d=a.j(c,a[c],b,2*c,0,1);(b[c+a.t]+=a.j(c+1,2*a[c],b,2*c+1,d,a.t-c-1))>=a.h&&(b[c+a.t]-=a.h,b[c+a.t+1]=1)}0<b.t&&(b[b.t-1]+=a.j(c,a[c],b,2*c,0,1));b.a=0;P(b)}
function G(a,b,c){var d=b.abs();if(!(0>=d.t)){var f=a.abs();if(f.t<d.t)null!=c&&a.copyTo(c);else{null==c&&(c=x());var h=x();b=a.a;var e=a.b-D(d[d.t-1]);0<e?(Q(d,e,h),Q(f,e,c)):(d.copyTo(h),f.copyTo(c));d=h.t;f=h[d-1];if(0!=f){var g=f*(1<<a.A)+(1<d?h[d-2]>>a.B:0),k=a.M/g;g=(1<<a.A)/g;var l=1<<a.B,m=c.t,t=m-d,n=x();O(h,t,n);0<=F(c,n)&&(c[c.t++]=1,I(c,n,c));O(R,d,n);for(I(n,h,h);h.t<d;)h[h.t++]=0;for(;0<=--t;){var v=c[--m]==f?a.i:Math.floor(c[m]*k+(c[m-1]+l)*g);if((c[m]+=h.j(0,v,c,t,0,d))<v)for(O(h,
t,n),I(c,n,c);c[m]<--v;)I(c,n,c)}c.t=d;P(c);if(0<e)if(h=a=c,h.a=a.a,d=Math.floor(e/a.b),d>=a.t)h.t=0;else{e%=a.b;f=a.b-e;k=(1<<e)-1;h[0]=a[d]>>e;for(g=d+1;g<a.t;++g)h[g-d-1]|=(a[g]&k)<<f,h[g-d]=a[g]>>e;0<e&&(h[a.t-d-1]|=(a.a&k)<<f);h.t=a.t-d;P(h)}0>b&&I(H,c,c)}}}}u.prototype.exp=function(a,b){if(4294967295<a||1>a)return R;var c=x(),d=x(),f=b.C(this),h=D(a)-1;for(f.copyTo(c);0<=--h;)if(b.K(c,d),0<(a&1<<h))b.I(d,f,c);else{var e=c;c=d;d=e}return b.J(c)};
u.prototype.toString=function(a){if(0>this.a)return"-"+S(this).toString(a);if(16==a)a=4;else if(8==a)a=3;else if(2==a)a=1;else if(32==a)a=5;else if(4==a)a=2;else return this.X(a);var b=(1<<a)-1,c,d=!1,f="",h=this.t,e=this.b-h*this.b%a;if(0<h--)for(e<this.b&&0<(c=this[h]>>e)&&(d=!0,f=B(c));0<=h;)e<a?(c=(this[h]&(1<<e)-1)<<a-e,c|=this[--h]>>(e+=this.b-a)):(c=this[h]>>(e-=a)&b,0>=e&&(e+=this.b,--h)),0<c&&(d=!0),d&&(f+=B(c));return d?f:"0"};function S(a){var b=x();I(H,a,b);return b}
u.prototype.abs=function(){return 0>this.a?S(this):this};function F(a,b){var c=a.a-b.a;if(0!=c)return c;var d=a.t;c=d-b.t;if(0!=c)return 0>a.a?-c:c;for(;0<=--d;)if(0!=(c=a[d]-b[d]))return c;return 0}var H=C(0),R=C(1);function T(){this.v=this.m=0;this.g=[]}T.prototype.next=function(){this.m=this.m+1&255;this.v=this.v+this.g[this.m]&255;var a=this.g[this.m];this.g[this.m]=this.g[this.v];this.g[this.v]=a;return this.g[a+this.g[this.m]&255]};var U,V,W;
function X(){var a=(new Date).getTime();V[W++]^=a&255;V[W++]^=a>>8&255;V[W++]^=a>>16&255;V[W++]^=a>>24&255;256<=W&&(W-=256)}
if(null==V){V=[];W=0;var Y;if(window.crypto&&window.crypto.getRandomValues){var Z=new Uint8Array(32);window.crypto.getRandomValues(Z);for(Y=0;32>Y;++Y)V[W++]=Z[Y]}if("Netscape"==navigator.appName&&"5">navigator.appVersion&&window.crypto){var ha=window.crypto.random(32);for(Y=0;Y<ha.length;++Y)V[W++]=ha.charCodeAt(Y)&255}for(;256>W;)Y=Math.floor(65536*Math.random()),V[W++]=Y>>>8,V[W++]=Y&255;W=0;X()}function ia(){this.n=null;this.e=0;this.q=this.p=this.d=null}
ia.prototype.encrypt=function(a){var b=this.n;b=(0>=b.t?0:b.b*(b.t-1)+D(b[b.t-1]^b.a&b.i))+7>>3;if(b<a.length+11)alert("Message too long for RSA"),b=null;else{for(var c=[],d=a.length-1;0<=d&&0<b;){var f=a.charCodeAt(d--);128>f?c[--b]=f:127<f&&2048>f?(c[--b]=f&63|128,c[--b]=f>>6|192):(c[--b]=f&63|128,c[--b]=f>>6&63|128,c[--b]=f>>12|224)}c[--b]=0;for(a=[];2<b;){for(a[0]=0;0==a[0];)for(f=a,d=0;d<f.length;++d){var h=f,e=d;if(null==U){X();U=new T;var g,k,l=U,m=V;for(k=0;256>k;++k)l.g[k]=k;for(k=g=0;256>
k;++k){g=g+l.g[k]+m[k%m.length]&255;var t=l.g[k];l.g[k]=l.g[g];l.g[g]=t}l.m=0;for(W=l.v=0;W<V.length;++W)V[W]=0;W=0}t=U.next();h[e]=t}c[--b]=a[0]}c[--b]=2;c[--b]=0;b=new u(c)}if(null==b)return null;c=this.e;a=this.n;b=b.exp(c,256>c||0==(0<a.t?a[0]&1:a.a)?new E(a):new N(a));if(null==b)return null;b=b.toString(16);return 0==(b.length&1)?b:"0"+b};
function ja(a){var b,c="";for(b=0;b+3<=a.length;b+=3){var d=parseInt(a.substring(b,b+3),16);c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(d>>6)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(d&63)}b+1==a.length?(d=parseInt(a.substring(b,b+1),16),c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(d<<2)):b+2==a.length&&(d=parseInt(a.substring(b,b+2),16),c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(d>>
2)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((d&3)<<4));for(;0<(c.length&3);)c+="=";return c};function ka(a,b,c){var d=new ia;null!=c&&null!=b&&0<c.length&&0<b.length?(d.n=new u(c,16),d.e=parseInt(b,16)):alert("Invalid RSA public key");return Promise.resolve({ct:ja(d.encrypt(a))})}function la(a){return ja(a).replace(/=/g,"").replace(/[+]/g,"-").replace(/[/]/g,"_")}
window.encrypt=function(a,b,c){return window.isSecureContext&&window.crypto&&window.crypto.subtle?window.crypto.subtle.importKey("jwk",{kty:"RSA",alg:"RSA-OAEP-256",n:la(c),e:la(b),ext:!1},{name:"RSA-OAEP",hash:"SHA-256"},!1,["encrypt"]).then(function(d){return crypto.subtle.encrypt({name:"RSA-OAEP"},d,(new TextEncoder).encode(a))}).then(function(d){d=new Uint8Array(d);for(var f="",h=0;h<d.length;h++)f+=String.fromCharCode(d[h]);return{ct:window.btoa(f),alg:"RSA-OAEP"}}).catch(function(d){console.error(d);
return ka(a,b,c)}):ka(a,b,c)};
